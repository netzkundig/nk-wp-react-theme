// Breakpoint map and mixin
@use 'sass:map';
$breakpoints: (
  xs: 480px,
  sm: 640px,
  md: 768px,
  lg: 1024px,
  xl: 1280px
);

// Usage:
//   @include breakpoint(md) { ... }            // min-width (default)
//   @include breakpoint(md, max) { ... }       // max-width (<= bp - 0.02px)
//   @include breakpoint(md, 'min') { ... }     // explicit min-width
@mixin breakpoint($bp, $type: min) {
  $size: map.get($breakpoints, $bp);
  @if not $size {
    @warn 'Unknown breakpoint: #{$bp}';
  } @else if $type == min or $type == 'min' {
    @media (min-width: $size) { @content; }
  } @else if $type == max or $type == 'max' {
    $max: $size - 0.02px; // avoid overlap at exact boundary
    @media (max-width: $max) { @content; }
  } @else {
    @warn 'Unknown breakpoint type: #{$type}. Expected min|max.';
    @media (min-width: $size) { @content; }
  }
}

// Add all Brekapoints as variables to :root for easier access in CSS
:root {
  @each $name, $size in $breakpoints {
    --breakpoint-#{$name}: #{$size};
  }
}